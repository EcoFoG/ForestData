<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Correct Overgrown Recruits in Forest Inventories — correct_recruits • ForestData</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Correct Overgrown Recruits in Forest Inventories — correct_recruits" />
<meta property="og:description" content="correct recruits spots &quot;ovegrown recruits&quot;, i.e. trees that were first
registered with an abnormally high DBH, given the protocol's minimum
censusing DBH and the upper threshold over which tree growth is considered
abnormal. In other terms, trees that were certainly there and over minimum
DBH in some censuses before they were first registered. The function then
reconstitutes the growth trajectory of these tree before their first register
and thus adds the corresponding lines to the inventory, flagging these lines
with a logical field named &quot;corrected_recruit&quot;." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ForestData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ForestData.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Correct Overgrown Recruits in Forest Inventories</h1>
    
    <div class="hidden name"><code>correct_recruits.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>correct recruits spots "ovegrown recruits", i.e. trees that were first
registered with an abnormally high DBH, given the protocol's minimum
censusing DBH and the upper threshold over which tree growth is considered
abnormal. In other terms, trees that were certainly there and over minimum
DBH in some censuses before they were first registered. The function then
reconstitutes the growth trajectory of these tree before their first register
and thus adds the corresponding lines to the inventory, flagging these lines
with a logical field named "corrected_recruit".</p>
    </div>

    <pre class="usage"><span class='fu'>correct_recruits</span><span class='op'>(</span>
  <span class='va'>data</span>,
  dbh_min <span class='op'>=</span> <span class='fl'>10</span>,
  positive_growth_threshold <span class='op'>=</span> <span class='fl'>5</span>,
  time_col <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"time_col"</span><span class='op'>)</span>,
  id_col <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"id_col"</span><span class='op'>)</span>,
  plot_col <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"plot_col"</span><span class='op'>)</span>,
  size_corr_col <span class='op'>=</span> <span class='st'>"size_corr"</span>,
  status_corr_col <span class='op'>=</span> <span class='st'>"status_corr"</span>,
  measure_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"measure_type"</span><span class='op'>)</span>,
  invariant_columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Forest"</span>, <span class='st'>"Family"</span>, <span class='st'>"Genus"</span>, <span class='st'>"Species"</span>, <span class='st'>"binomial_name"</span><span class='op'>)</span>,
  byplot <span class='op'>=</span> <span class='cn'>TRUE</span>,
  correct_status <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>data.frame, containing forest inventories in the form of a
long-format time series - one line corresponds to a measurement for one
individual at a given census time.</p></td>
    </tr>
    <tr>
      <th>dbh_min</th>
      <td><p>scalar integer or numeric, indicating the minimum DIAMETER (in
centimeters) at the default measurement height from which trees are
recorded. Defaults to 10 cm.</p></td>
    </tr>
    <tr>
      <th>positive_growth_threshold</th>
      <td><p>positive numeric or integer, threshold over
which an annual DIAMETER growth is considered abnormal (in cm). Defaults to
5 cm.</p></td>
    </tr>
    <tr>
      <th>time_col</th>
      <td><p>character, name of the column containing census years.</p></td>
    </tr>
    <tr>
      <th>id_col</th>
      <td><p>character, name of the column containing trees unique IDs.</p></td>
    </tr>
    <tr>
      <th>plot_col</th>
      <td><p>character, name of the column containing plot indices or
names.</p></td>
    </tr>
    <tr>
      <th>size_corr_col</th>
      <td><p>Character, the name of the column containing corrected size measurements.</p></td>
    </tr>
    <tr>
      <th>status_corr_col</th>
      <td><p>Character, the name of the column containing corrected tree life status.</p></td>
    </tr>
    <tr>
      <th>measure_type</th>
      <td><p>character, partially matching “Circumference” or
“Diameter”, indicating what is the type of the measurements.</p></td>
    </tr>
    <tr>
      <th>invariant_columns</th>
      <td><p>character vector, containing the name of the columns
for which value remain constant for a given tree (for example species name
or coordinates). When a row is added by the function correct_alive, values
for invariant columns are taken from the value for other censuses. Defaults
to null</p></td>
    </tr>
    <tr>
      <th>byplot</th>
      <td><p>logical, indicating whether the function has to process the
data by plot (TRUE)or for the whole dataset (FALSE).</p></td>
    </tr>
    <tr>
      <th>correct_status</th>
      <td><p>Logical, indicating whether the life status has to be corrected beforhand or not.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A forest inventory with added lines, which correspond to overgrown
  recruits estimated trajectories. To use with caution in certain analyses,
  e.g. biomass monitoring.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If a tree is recruited (first registered after the initial census)
  with an excessive size, its size trajectory is reconstituted using a linear
  model on existing values, for census years corresponding to the plot.</p>
<p>Only the estimated sizes that are still over the minimum DBH censusing
  limit are kept in the output.</p>
<p>If the tree size never varied in the registered measurement, the same value
  is kept for censuses before the tree's first registering.</p>
<p>Abnormal size at recruitment is defined according to the study's minimum
  censusing DBH (minimum_dbh) and a "tolerated growth threshold"
  (positive_growth_threshold), estimated by local expertise or other means,
  and over which annual growth is considered abnormal/suspicious. A recruit
  is considered overgrown if the size at recruitment time exceeds
  minimum_dbh+(recruitment_time - previous_census)*positive_growth_threshold.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## From a bare dataset - better using after correct_alive and correct_size</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"example_size_corr"</span><span class='op'>)</span>

<span class='va'>cors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/warning.html'>suppressWarnings</a></span><span class='op'>(</span><span class='fu'>correct_recruits</span><span class='op'>(</span><span class='va'>example_size_corr</span>,
dbh_min <span class='op'>=</span> <span class='fl'>10</span>,
positive_growth_threshold <span class='op'>=</span> <span class='fl'>5</span>,
time_col <span class='op'>=</span> <span class='st'>"CensusYear"</span>,
id_col <span class='op'>=</span> <span class='st'>"idTree"</span>,
plot_col <span class='op'>=</span> <span class='st'>"Plot"</span>,
size_corr_col <span class='op'>=</span> <span class='st'>"size_corr"</span>,
status_corr_col <span class='op'>=</span> <span class='st'>"status_corr"</span>,
measure_type <span class='op'>=</span> <span class='st'>"circumference"</span>,
invariant_columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Forest"</span>,<span class='st'>"Family"</span>,<span class='st'>"Genus"</span>,<span class='st'>"Species"</span>,<span class='st'>"binomial_name"</span><span class='op'>)</span>,
byplot <span class='op'>=</span> <span class='cn'>TRUE</span>,
correct_status <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>cors</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 'data.frame':	25684 obs. of  16 variables:
#&gt;  $ Forest           : chr  "Paracou:P6" "Paracou:P6" "Paracou:P6" "Paracou:P6" ...
#&gt;  $ Plot             : chr  "1" "1" "1" "1" ...
#&gt;  $ idTree           : int  100621 100621 100621 100621 100621 100621 100621 100621 100621 100621 ...
#&gt;  $ Family           : chr  "Euphorbiaceae" "Euphorbiaceae" "Euphorbiaceae" "Euphorbiaceae" ...
#&gt;  $ Genus            : chr  "Sandwithia" "Sandwithia" "Sandwithia" "Sandwithia" ...
#&gt;  $ Species          : chr  "guyanensis" "guyanensis" "guyanensis" "guyanensis" ...
#&gt;  $ CensusYear       : int  1984 1985 1986 1987 1988 1989 1990 1991 1992 1993 ...
#&gt;  $ CodeAlive        : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
#&gt;  $ CodeMeas         : int  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ Circ             : num  40 40 40 40.5 40.5 41.5 40.5 40.5 40.5 41 ...
#&gt;  $ binomial_name    : chr  "Sandwithia_guyanensis" "Sandwithia_guyanensis" "Sandwithia_guyanensis" "Sandwithia_guyanensis" ...
#&gt;  $ POM              : num  1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 ...
#&gt;  $ status_corr      : num  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ code_corr        : Factor w/ 8 levels "0","POM","def_decr_R_recent",..: 1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ size_corr        : num  40 40 40 40.5 40.5 41.5 40.5 40.5 40.5 41 ...
#&gt;  $ corrected_recruit: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nino Page, Géraldine Derroire, Bruno Hérault, Eric Marcon, Elie Guedj, Gaëlle Jaouen, Camille Piponiot.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


