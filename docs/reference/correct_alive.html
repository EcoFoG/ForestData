<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Correct Trees Life Status in a Forest Inventory — correct_alive • ForestData</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Correct Trees Life Status in a Forest Inventory — correct_alive" />
<meta property="og:description" content="correct_alive spots unseen trees, adds corresponding lines and corrects their
status." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ForestData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Correct Trees Life Status in a Forest Inventory</h1>
    
    <div class="hidden name"><code>correct_alive.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>correct_alive spots unseen trees, adds corresponding lines and corrects their
status.</p>
    </div>

    <pre class="usage"><span class='fu'>correct_alive</span>(<span class='no'>data</span>, <span class='kw'>id_col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"id_col"</span>),
  <span class='kw'>time_col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"time_col"</span>),
  <span class='kw'>status_col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"status_col"</span>),
  <span class='kw'>plot_col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"plot_col"</span>), <span class='kw'>byplot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>dead_confirmation_censuses</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>use_size</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>invariant_columns</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Forest"</span>, <span class='st'>"Family"</span>, <span class='st'>"Genus"</span>, <span class='st'>"Species"</span>,
  <span class='st'>"binomial_name"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>data.frame, containing forest inventories in the form of a
long-format time series - one line corresponds to a measurement for one
individual at a given census time.</p></td>
    </tr>
    <tr>
      <th>id_col</th>
      <td><p>character, name of the column containing trees unique IDs.</p></td>
    </tr>
    <tr>
      <th>time_col</th>
      <td><p>character, name of the column containing census years.</p></td>
    </tr>
    <tr>
      <th>status_col</th>
      <td><p>character, name of the column corresponding to tree status:
0/FALSE for dead, 1/TRUE for alive.</p></td>
    </tr>
    <tr>
      <th>plot_col</th>
      <td><p>character, name of the column containing plot indices or
names.</p></td>
    </tr>
    <tr>
      <th>byplot</th>
      <td><p>logical, indicating whether the function has to process the
data by plot (TRUE)or for the whole dataset (FALSE).</p></td>
    </tr>
    <tr>
      <th>dead_confirmation_censuses</th>
      <td><p>integer, defaults to 2: number of
consecutive censuses for which a tree is unseen that are needed to consider
the tree as dead. NB: for the trees unseen during the
dead_confirmation_censuses -1 last inventories, the status cannot be
corrected, thus mortality rates should not be calculated for these
censuses.</p></td>
    </tr>
    <tr>
      <th>use_size</th>
      <td><p>character, defaults to FALSE. Optional argument specifying
whether to use measurement column (circumference or diameter) to create a
vital status field  in case it does not already exist. See Details.</p></td>
    </tr>
    <tr>
      <th>invariant_columns</th>
      <td><p>character vector, containing the name of the columns
for which value remain constant for a given tree (for example species name
or coordinates). When a row is added by the function correct_alive, values
for invariant columns are taken from the value for other censuses. Defaults
to null</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.frame containing the corrected data, with trees' corrected
  life statuses. 1 = alive, 0 = dead. NAs indicate that the tree was unseen
  and cannot be considered dead yet. The output does not necessarily have the
  same number of lines as the input. Lines are added when the trees were
  unseen then seen alive again, with all columns being set NA except trees'
  id, plot, census year, corrected status, and the columns specified in
  <code>invariant_columns</code> argument. Useless lines, with NA status before
  first sight alive, or after death statement, are suppressed.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong><em>Argument <code>death_confirmation_censuses</code></em></strong>
<code>death_confirmation_censuses</code> is an argument that comes from the Paracou
forest plots' censusing protocol, in which tree death is stated with
certainty only if unsighting happens for at least the two last censuses. This
is because the temporal resolution -the frequency with which the plots are
censused- is high enough to use this cross-verification rule in case of
unsighting. This means that mortality rates cannot be calculated with
certainty for the last census, and that is why this argument is also in
<code>compute_mortality</code> and <code>compute_rates</code> functions. Please set this
argument according to your protocol's resolution and exigencies.</p>
<p><code>use_size</code> defaults to FALSE, and activates a specific internal function
that creates a <code>$status</code> field in the dataset. If you use this option,
make SURE that only LIVE trees are measured (with non-NA size) in your
dataset's protocol. In several protocols, e.g. the Paracou Disturbance
Experiment, dead trees are measured for the census when death is recorded. In
this case, this option must not be activated, and the status field has to be
created manually. If your data ALREADY contains a field indicating whether
the tree is dead -0 or FALSE-, or alive -1 or TRUE-, please let
<code>use_size</code> to its default value.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#Load the provided example dataset</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"example_census"</span>)

<span class='co'>#Take a look to its structure</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>example_census</span>)</div><div class='output co'>#&gt; 'data.frame':	25533 obs. of  12 variables:
#&gt;  $ Forest       : chr  "Paracou:P6" "Paracou:P6" "Paracou:P6" "Paracou:P6" ...
#&gt;  $ Plot         : int  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ idTree       : int  100621 100621 100621 100621 100621 100621 100621 100621 100621 100621 ...
#&gt;  $ Family       : chr  "Euphorbiaceae" "Euphorbiaceae" "Euphorbiaceae" "Euphorbiaceae" ...
#&gt;  $ Genus        : chr  "Sandwithia" "Sandwithia" "Sandwithia" "Sandwithia" ...
#&gt;  $ Species      : chr  "guyanensis" "guyanensis" "guyanensis" "guyanensis" ...
#&gt;  $ CensusYear   : int  1984 1985 1986 1987 1988 1989 1990 1991 1992 1993 ...
#&gt;  $ CodeAlive    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
#&gt;  $ CodeMeas     : int  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ Circ         : num  40 40 40 40.5 40.5 41.5 40.5 40.5 40.5 41 ...
#&gt;  $ binomial_name: chr  "Sandwithia_guyanensis" "Sandwithia_guyanensis" "Sandwithia_guyanensis" "Sandwithia_guyanensis" ...
#&gt;  $ POM          : num  1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 ...</div><div class='input'>
<span class='co'>#Correct it (short version with column names set with prepare_forestdata)</span>
<span class='no'>example_status_corr</span> <span class='kw'>&lt;-</span> <span class='fu'>correct_alive</span>(<span class='no'>example_census</span>,
<span class='kw'>invariant_columns</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Genus"</span>,
<span class='st'>"Species"</span>,
<span class='st'>"Family"</span>,
<span class='st'>"Forest"</span>,
<span class='st'>"binomial_name"</span>))</div><div class='output co'>#&gt; <span class='error'>Error in correct_alive(example_census, invariant_columns = c("Genus",     "Species", "Family", "Forest", "binomial_name")): The following argument(s) need to be specified:id_col</span></div><div class='input'>
<span class='co'>#Correct it (full call)</span>
<span class='no'>example_status_corr</span> <span class='kw'>&lt;-</span> <span class='fu'>correct_alive</span>(<span class='no'>example_census</span>,
<span class='kw'>id_col</span> <span class='kw'>=</span> <span class='st'>"idTree"</span>,
<span class='kw'>time_col</span> <span class='kw'>=</span> <span class='st'>"CensusYear"</span>,
<span class='kw'>status_col</span> <span class='kw'>=</span> <span class='st'>"CodeAlive"</span>,
<span class='kw'>plot_col</span> <span class='kw'>=</span> <span class='st'>"Plot"</span>,
<span class='kw'>byplot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
<span class='kw'>dead_confirmation_censuses</span> <span class='kw'>=</span> <span class='fl'>2</span>,
<span class='kw'>use_size</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
<span class='kw'>invariant_columns</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Genus"</span>,
<span class='st'>"Species"</span>,
<span class='st'>"Family"</span>,
<span class='st'>"Forest"</span>,
<span class='st'>"binomial_name"</span>))</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%</div><div class='output co'>#&gt; <span class='warning'>Warning: tree 178729 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt;   |                                                                              |======================================================================| 100%</div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103043 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103044 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103046 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103177 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103178 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103191 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103193 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103343 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103379 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103567 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; <span class='warning'>Warning: tree 103618 has only been recorded dead. It might be that it has been recruited and died on the same between-censuses interval. Please verify it</span></div><div class='output co'>#&gt; </div><div class='input'>

<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>example_status_corr</span>)</div><div class='output co'>#&gt; 'data.frame':	25634 obs. of  13 variables:
#&gt;  $ Forest       : chr  "Paracou:P6" "Paracou:P6" "Paracou:P6" "Paracou:P6" ...
#&gt;  $ Plot         : int  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ idTree       : int  100621 100621 100621 100621 100621 100621 100621 100621 100621 100621 ...
#&gt;  $ Family       : chr  "Euphorbiaceae" "Euphorbiaceae" "Euphorbiaceae" "Euphorbiaceae" ...
#&gt;  $ Genus        : chr  "Sandwithia" "Sandwithia" "Sandwithia" "Sandwithia" ...
#&gt;  $ Species      : chr  "guyanensis" "guyanensis" "guyanensis" "guyanensis" ...
#&gt;  $ CensusYear   : int  1984 1985 1986 1987 1988 1989 1990 1991 1992 1993 ...
#&gt;  $ CodeAlive    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
#&gt;  $ CodeMeas     : int  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ Circ         : num  40 40 40 40.5 40.5 41.5 40.5 40.5 40.5 41 ...
#&gt;  $ binomial_name: chr  "Sandwithia_guyanensis" "Sandwithia_guyanensis" "Sandwithia_guyanensis" "Sandwithia_guyanensis" ...
#&gt;  $ POM          : num  1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 1.3 ...
#&gt;  $ status_corr  : num  1 1 1 1 1 1 1 1 1 1 ...</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Géraldine Derroire, Bruno Hérault, Eric Marcon, Elie Guedj, Gaëlle Jaouen, Camille Piponiot.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


